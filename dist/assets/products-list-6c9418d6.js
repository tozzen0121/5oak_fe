import{P as S,c as f,j as e,G as c,B as u,g as v,a5 as w,p as a,T as l,cs as F,r as d,k as z,a9 as N,I as $,t as A,z as H,M as K,d as O,a6 as B}from"./index-4ec2acc9.js";import{N as G}from"./react-number-format.es-ef5c2e2a.js";import{u as V,g as q,a as L,b as Q,c as U,d as X,S as J,f as T}from"./ScrollX-181e09c3.js";import{r as W}from"./index-481cdf3e.js";import{I as P,D as Y,S as Z,C as _,R as ee,H as te,T as se}from"./Filter-5fb6b047.js";import"./LinearWithLabel-a698b6a2.js";import{R as re}from"./Rating-e3741bc7.js";import{T as oe,a as ne,b as le}from"./TableContainer-79f96d07.js";import{T as ie}from"./TableHead-1c1d5f27.js";import{T as h}from"./TableRow-76b6232d.js";import{T as j}from"./TableCell-d56244c5.js";import{P as I}from"./PlusOutlined-ad84ee30.js";import{E as ce}from"./EyeOutlined-a46660da.js";import"./DownloadOutlined-9f1bb88f.js";import"./CaretUpOutlined-bbb0220c.js";import"./CaretDownOutlined-2840e58c.js";import"./Pagination-1c1c147a.js";import"./index-cbfabe50.js";import"./Checkbox-ea9a3331.js";import"./MinusOutlined-52ffbb38.js";import"./visuallyHidden-14c3de6e.js";const k=({data:t})=>{var m;const g=f();return e.jsxs(c,{container:!0,spacing:2.5,sx:{pl:{xs:0,sm:5,md:6,lg:10,xl:12}},children:[e.jsx(c,{item:!0,xs:6,sm:5,md:4,lg:3,children:e.jsxs(u,{sx:{position:"relative"},children:[e.jsx("img",{src:t.image&&v(`${t.image}`),alt:"product",style:{background:g.palette.grey[200],width:"100%"}}),e.jsx(w,{label:t.isStock?"In Stock":"Out of Stock",color:t.isStock?"success":"error",variant:"light",sx:{position:"absolute",right:15,top:15}})]})}),e.jsx(c,{item:!0,xs:12,sm:7,md:8,lg:9,children:e.jsxs(a,{spacing:1,sx:{px:2},children:[e.jsx(l,{variant:"h5",children:t==null?void 0:t.name}),e.jsx(l,{color:"textSecondary",children:t==null?void 0:t.about}),e.jsx(re,{name:"read-only",value:t.rating,readOnly:!0}),e.jsx(u,{sx:{width:"80%",pt:2},children:e.jsxs(c,{container:!0,spacing:1,children:[e.jsx(c,{item:!0,xs:4,md:3,children:e.jsx(l,{color:"textSecondary",children:"Categories"})}),e.jsx(c,{item:!0,xs:8,md:9,children:e.jsx(a,{direction:"row",spacing:.5,children:(m=t==null?void 0:t.categories)==null?void 0:m.map((s,n)=>e.jsxs(l,{variant:"h6",sx:{textTransform:"capitalize"},children:[s,(t==null?void 0:t.categories.length)>n+1?",":""]},n))})}),e.jsx(c,{item:!0,xs:4,md:3,children:e.jsx(l,{color:"textSecondary",children:"Qty"})}),e.jsx(c,{item:!0,xs:8,md:9,children:e.jsx(l,{variant:"h6",children:t==null?void 0:t.quantity})}),e.jsx(c,{item:!0,xs:4,md:3,children:e.jsx(l,{color:"textSecondary",children:"Price"})}),e.jsx(c,{item:!0,xs:8,md:9,children:e.jsx(l,{variant:"h5",children:t!=null&&t.salePrice?`$${t==null?void 0:t.salePrice}`:`$${t==null?void 0:t.offerPrice}`})})]})})]})})]})};k.propTypes={data:S.object};const ae=(t,g,m,s)=>{const n=W(t.getValue(g),m);return s(n),n.passed};function M({data:t,columns:g}){const m=f(),[s,n]=d.useState([{id:"name",desc:!1}]),[x,p]=d.useState({}),[y,b]=d.useState(""),i=V({data:t,columns:g,state:{sorting:s,rowSelection:x,globalFilter:y},enableRowSelection:!0,onSortingChange:n,onRowSelectionChange:p,onGlobalFilterChange:b,getRowCanExpand:()=>!0,getSortedRowModel:q(),getFilteredRowModel:L(),getCoreRowModel:Q(),getPaginationRowModel:U(),getExpandedRowModel:X(),globalFilterFn:ae,debugTable:!0}),C=A(m.palette.primary.lighter,.1);let R=[];g.map(r=>r.accessorKey&&R.push({label:typeof r.header=="string"?r.header:"#",key:r.accessorKey}));const D=H(),E=()=>{D("/apps/e-commerce/add-new-product")};return e.jsxs(K,{content:!1,children:[e.jsxs(a,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{padding:2},children:[e.jsx(Y,{value:y??"",onFilterChange:r=>b(String(r)),placeholder:`Search ${t.length} records...`}),e.jsxs(a,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(Z,{getState:i.getState,getAllColumns:i.getAllColumns,setSorting:n}),e.jsx(O,{variant:"contained",startIcon:e.jsx(I,{}),onClick:E,children:"Add Product"}),e.jsx(_,{data:i.getSelectedRowModel().flatRows.map(r=>r.original).length===0?t:i.getSelectedRowModel().flatRows.map(r=>r.original),headers:R,filename:"product-list.csv"})]})]}),e.jsx(J,{children:e.jsxs(a,{children:[e.jsx(ee,{selected:Object.keys(x).length}),e.jsx(oe,{children:e.jsxs(ne,{children:[e.jsx(ie,{children:i.getHeaderGroups().map(r=>e.jsx(h,{children:r.headers.map(o=>(o.column.columnDef.meta!==void 0&&o.column.getCanSort()&&Object.assign(o.column.columnDef.meta,{className:o.column.columnDef.meta.className+" cursor-pointer prevent-select"}),e.jsx(j,{...o.column.columnDef.meta,onClick:o.column.getToggleSortingHandler(),...o.column.getCanSort()&&o.column.columnDef.meta===void 0&&{className:"cursor-pointer prevent-select"},children:o.isPlaceholder?null:e.jsxs(a,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(u,{children:T(o.column.columnDef.header,o.getContext())}),o.column.getCanSort()&&e.jsx(te,{column:o.column})]})},o.id)))},r.id))}),e.jsx(le,{children:i.getRowModel().rows.map(r=>e.jsxs(d.Fragment,{children:[e.jsx(h,{children:r.getVisibleCells().map(o=>e.jsx(j,{...o.column.columnDef.meta,children:T(o.column.columnDef.cell,o.getContext())},o.id))}),r.getIsExpanded()&&e.jsx(h,{sx:{bgcolor:C,"&:hover":{bgcolor:`${C} !important`}},children:e.jsx(j,{colSpan:r.getVisibleCells().length,children:e.jsx(k,{data:r.original})})})]},r.id))})]})}),e.jsxs(e.Fragment,{children:[e.jsx(B,{}),e.jsx(u,{sx:{p:2},children:e.jsx(se,{setPageSize:i.setPageSize,setPageIndex:i.setPageIndex,getState:i.getState,getPageCount:i.getPageCount,initialPageSize:5})})]})]})})]})}M.propTypes={columns:S.array,data:S.array};const De=()=>{const t=f(),g=F(),m=d.useMemo(()=>[{id:"select",header:({table:s})=>e.jsx(P,{checked:s.getIsAllRowsSelected(),indeterminate:s.getIsSomeRowsSelected(),onChange:s.getToggleAllRowsSelectedHandler()}),cell:({row:s})=>e.jsx(P,{checked:s.getIsSelected(),disabled:!s.getCanSelect(),indeterminate:s.getIsSomeSelected(),onChange:s.getToggleSelectedHandler()})},{header:"#",accessorKey:"id",meta:{className:"cell-center"}},{header:"Product Detail",accessorKey:"name",cell:({row:s,getValue:n})=>e.jsxs(a,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(z,{variant:"rounded",alt:n(),color:"secondary",size:"sm",src:v(`thumbs/${s.original.image?s.original.image:"prod-11.png"}`)}),e.jsxs(a,{spacing:0,children:[e.jsx(l,{variant:"subtitle1",children:n()}),e.jsx(l,{variant:"caption",color:"textSecondary",children:s.original.description})]})]})},{header:"Categories",accessorKey:"categories",cell:({row:s})=>{var n;return s.original.categories?e.jsx(a,{direction:"row",spacing:.25,children:(n=s.original)==null?void 0:n.categories.map((x,p)=>e.jsxs(l,{variant:"h6",sx:{textTransform:"capitalize"},children:[x,s.original.categories.length>p+1?",":""]},p))}):e.jsx(l,{variant:"h6",children:"-"})}},{header:"Price",accessorKey:"offerPrice",cell:({getValue:s})=>e.jsx(G,{value:s(),displayType:"text",thousandSeparator:!0,prefix:"$"}),meta:{className:"cell-right"}},{header:"Qty",accessorKey:"quantity",meta:{className:"cell-right"}},{header:"Status",accessorKey:"isStock",cell:({getValue:s})=>e.jsx(w,{color:s()?"success":"error",label:s()?"In Stock":"Out of Stock",size:"small",variant:"light"})},{header:"Actions",className:"cell-center",disableSortBy:!0,cell:({row:s})=>{const n=s.getCanExpand()&&s.getIsExpanded()?e.jsx(I,{style:{color:t.palette.error.main,transform:"rotate(45deg)"}}):e.jsx(ce,{});return e.jsx(N,{title:"View",children:e.jsx($,{color:"secondary",onClick:s.getToggleExpandedHandler(),children:n})})}}],[t]);return e.jsx(M,{data:g,columns:m})};export{De as default,ae as fuzzyFilter};
