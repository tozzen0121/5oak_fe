import{y as v,r as n,z as C,j as e,G as t,M as S,a2 as y,p as r,aQ as d,D as u,a6 as w,cF as J,L,d as p,x as m,H as D,ai as k}from"./index-5d74eefe.js";function N(){const{id:s}=v(),[c,h]=n.useState(""),[o,x]=n.useState(""),[l,j]=n.useState(""),g=C(),f=async()=>{try{s?await m.put(`/api/job/${s}`,{name:c,location:o,description:l}):await m.post("/api/job",{name:c,location:o,description:l}),D({open:!0,message:s?"Job updated":"New Job created",variant:"alert",alert:{color:"success"},anchorOrigin:{vertical:"top",horizontal:"right"},transition:"SlideLeft"}),g("/admin/jobs")}catch{}};return n.useEffect(()=>{s&&(async b=>{try{const{data:i}=await k(`/api/job/${b}`);h(i.name),x(i.location),j(i.description)}catch{}})(s)},[s]),e.jsx(t,{container:!0,spacing:3,justifyContent:"center",children:e.jsx(t,{item:!0,xs:12,md:6,lg:6,children:e.jsx(t,{container:!0,spacing:3,children:e.jsx(t,{item:!0,xs:12,children:e.jsxs(S,{title:"",content:!1,children:[e.jsx(y,{children:e.jsxs(t,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(t,{item:!0,xs:12,children:e.jsxs(r,{spacing:1,children:[e.jsx(d,{children:"Job Name"}),e.jsx(u,{fullWidth:!0,placeholder:"Job name",onChange:a=>h(a.target.value),value:c})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(r,{spacing:1,children:[e.jsx(d,{children:"Location"}),e.jsx(u,{fullWidth:!0,placeholder:"Location",onChange:a=>x(a.target.value),value:o})]})}),e.jsx(t,{item:!0,xs:12,children:e.jsxs(r,{spacing:1,children:[e.jsx(d,{children:"Description"}),e.jsx(u,{fullWidth:!0,placeholder:"Description",onChange:a=>j(a.target.value),value:l,multiline:!0,rows:4})]})})]})}),e.jsx(w,{}),e.jsx(J,{children:e.jsxs(r,{direction:"row",spacing:1,justifyContent:"flex-end",sx:{width:1,px:1.5,py:.75},children:[e.jsx(L,{to:"/admin/jobs",children:e.jsx(p,{color:"error",size:"small",children:"Cancel"})}),e.jsx(p,{variant:"contained",size:"small",onClick:()=>f(),children:"Submit"})]})})]})})})})})}export{N as default};
