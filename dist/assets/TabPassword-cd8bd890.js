import{r as g,j as s,M as $,cc as G,aG as H,aH as P,H as R,G as o,p as w,aQ as y,ao as C,I as b,aR as O,B as U,T as V,K as Z,a7 as d,ab as t,O as c,d as A}from"./index-884300a6.js";import{m as E,i as L,a as N,b as q,c as v}from"./password-validation-1ad5d1fa.js";import{I as S}from"./InputAdornment-5e61b12f.js";import{E as I}from"./EyeOutlined-507b7824.js";import{E as k}from"./EyeInvisibleOutlined-242cbc93.js";import{C as l}from"./CheckOutlined-18b9774f.js";import{L as p}from"./LineOutlined-87f17c7d.js";const ss=()=>{const[h,M]=g.useState(!1),[j,z]=g.useState(!1),[u,B]=g.useState(!1),D=()=>{M(!h)},F=()=>{z(!j)},T=()=>{B(!u)},f=r=>{r.preventDefault()};return s.jsx($,{title:"Change Password",children:s.jsx(G,{initialValues:{old:"",password:"",confirm:"",submit:null},validationSchema:H().shape({old:P().required("Old Password is required"),password:P().required("New Password is required").matches(/^.*(?=.{8,})((?=.*[!@#$%^&*()\-_=+{};:,<.>]){1})(?=.*\d)((?=.*[a-z]){1})((?=.*[A-Z]){1}).*$/,"Password must contain at least 8 characters, one uppercase, one number and one special case character"),confirm:P().required("Confirm Password is required").test("confirm","Passwords don't match.",(r,a)=>a.parent.password===r)}),onSubmit:async(r,{resetForm:a,setErrors:i,setStatus:m,setSubmitting:x})=>{try{R({open:!0,message:"Password changed successfully.",variant:"alert",alert:{color:"success"}}),a(),m({success:!1}),x(!1)}catch(n){m({success:!1}),i({submit:n.message}),x(!1)}},children:({errors:r,handleBlur:a,handleChange:i,handleSubmit:m,isSubmitting:x,touched:n,values:e})=>s.jsx("form",{noValidate:!0,onSubmit:m,children:s.jsxs(o,{container:!0,spacing:3,children:[s.jsxs(o,{item:!0,container:!0,spacing:3,xs:12,sm:6,children:[s.jsxs(o,{item:!0,xs:12,children:[s.jsxs(w,{spacing:1,children:[s.jsx(y,{htmlFor:"password-old",children:"Old Password"}),s.jsx(C,{id:"password-old",placeholder:"Enter Old Password",type:h?"text":"password",value:e.old,name:"old",onBlur:a,onChange:i,endAdornment:s.jsx(S,{position:"end",children:s.jsx(b,{"aria-label":"toggle password visibility",onClick:D,onMouseDown:f,edge:"end",size:"large",color:"secondary",children:h?s.jsx(I,{}):s.jsx(k,{})})}),autoComplete:"password-old"})]}),n.old&&r.old&&s.jsx(O,{error:!0,id:"password-old-helper",children:r.old})]}),s.jsxs(o,{item:!0,xs:12,children:[s.jsxs(w,{spacing:1,children:[s.jsx(y,{htmlFor:"password-password",children:"New Password"}),s.jsx(C,{id:"password-password",placeholder:"Enter New Password",type:j?"text":"password",value:e.password,name:"password",onBlur:a,onChange:i,endAdornment:s.jsx(S,{position:"end",children:s.jsx(b,{"aria-label":"toggle password visibility",onClick:F,onMouseDown:f,edge:"end",size:"large",color:"secondary",children:j?s.jsx(I,{}):s.jsx(k,{})})}),autoComplete:"password-password"})]}),n.password&&r.password&&s.jsx(O,{error:!0,id:"password-password-helper",children:r.password})]}),s.jsxs(o,{item:!0,xs:12,children:[s.jsxs(w,{spacing:1,children:[s.jsx(y,{htmlFor:"password-confirm",children:"Confirm Password"}),s.jsx(C,{id:"password-confirm",placeholder:"Enter Confirm Password",type:u?"text":"password",value:e.confirm,name:"confirm",onBlur:a,onChange:i,endAdornment:s.jsx(S,{position:"end",children:s.jsx(b,{"aria-label":"toggle password visibility",onClick:T,onMouseDown:f,edge:"end",size:"large",color:"secondary",children:u?s.jsx(I,{}):s.jsx(k,{})})}),autoComplete:"password-confirm"})]}),n.confirm&&r.confirm&&s.jsx(O,{error:!0,id:"password-confirm-helper",children:r.confirm})]})]}),s.jsx(o,{item:!0,xs:12,sm:6,children:s.jsxs(U,{sx:{p:{xs:0,sm:2,md:4,lg:5}},children:[s.jsx(V,{variant:"h5",children:"New Password must contain:"}),s.jsxs(Z,{sx:{p:0,mt:1},children:[s.jsxs(d,{divider:!0,children:[s.jsx(t,{sx:{color:E(e.password)?"success.main":"inherit"},children:E(e.password)?s.jsx(l,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 8 characters"})]}),s.jsxs(d,{divider:!0,children:[s.jsx(t,{sx:{color:L(e.password)?"success.main":"inherit"},children:L(e.password)?s.jsx(l,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 1 lower letter (a-z)"})]}),s.jsxs(d,{divider:!0,children:[s.jsx(t,{sx:{color:N(e.password)?"success.main":"inherit"},children:N(e.password)?s.jsx(l,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 1 uppercase letter (A-Z)"})]}),s.jsxs(d,{divider:!0,children:[s.jsx(t,{sx:{color:q(e.password)?"success.main":"inherit"},children:q(e.password)?s.jsx(l,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 1 number (0-9)"})]}),s.jsxs(d,{children:[s.jsx(t,{sx:{color:v(e.password)?"success.main":"inherit"},children:v(e.password)?s.jsx(l,{}):s.jsx(p,{})}),s.jsx(c,{primary:"At least 1 special characters"})]})]})]})}),s.jsx(o,{item:!0,xs:12,children:s.jsxs(w,{direction:"row",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[s.jsx(A,{variant:"outlined",color:"secondary",children:"Cancel"}),s.jsx(A,{disabled:x||Object.keys(r).length!==0,type:"submit",variant:"contained",children:"Update Profile"})]})})]})})})})};export{ss as default};
