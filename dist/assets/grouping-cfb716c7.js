import{P as G,c3 as k,r as p,j as e,a5 as u,M as z,bX as v,p as w,I as T,cH as E,av as P,ar as K,B as R}from"./index-10ef80df.js";import{u as V,d as H,j as B,b as N,S as O,f as i}from"./ScrollX-258ac433.js";import{u as A}from"./index-51b5846d.js";import{C as L}from"./Filter-47e29aec.js";import{L as U}from"./LinearWithLabel-cc0af0ed.js";import{T as W,a as X,b as $}from"./TableContainer-e4161e77.js";import{T as q}from"./TableHead-f651bf75.js";import{T as c}from"./TableRow-51a9fe9d.js";import{T as g}from"./TableCell-d1077db1.js";import{U as F}from"./UngroupOutlined-7b1b9622.js";import"./DownloadOutlined-0c1f1c57.js";import"./CaretUpOutlined-6f859b63.js";import"./CaretDownOutlined-bae867de.js";import"./Pagination-af7a4693.js";import"./index-75ec4ed2.js";import"./Checkbox-0de9d4d8.js";import"./MinusOutlined-1024c82d.js";function D({columns:m,data:d}){var C,y;const[n,I]=p.useState(["age"]),l=V({data:d,columns:m,state:{grouping:n},onGroupingChange:I,getExpandedRowModel:H(),getGroupedRowModel:B(),getCoreRowModel:N(),debugTable:!0}),h=p.useRef(null),{rows:x}=l.getRowModel(),M=A({parentRef:h,size:x.length,overscan:10}),{virtualItems:a,totalSize:S}=M,f=a.length>0&&((C=a==null?void 0:a[0])==null?void 0:C.start)||0,j=a.length>0?S-(((y=a==null?void 0:a[a.length-1])==null?void 0:y.end)||0):0;let b=[];return l.getAllColumns().map(r=>b.push({label:typeof r.columnDef.header=="string"?r.columnDef.header:"#",key:r.columnDef.accessorKey})),e.jsx(z,{content:!1,title:"Grouping",secondary:e.jsx(L,{data:l.getGroupedRowModel().rows.map(r=>r.original),headers:b,filename:"grouping.csv"}),children:e.jsx(O,{children:e.jsx(W,{component:v,ref:h,sx:{maxHeight:544},children:e.jsxs(X,{children:[e.jsx(q,{className:"sticky-header",children:l.getHeaderGroups().map(r=>e.jsx(c,{children:r.headers.map(s=>e.jsx(g,{...s.column.columnDef.meta,children:s.isPlaceholder?null:e.jsxs(w,{direction:"row",alignItems:"center",children:[s.column.getCanGroup()&&e.jsx(T,{color:s.column.getIsGrouped()?"error":"primary",onClick:s.column.getToggleGroupingHandler(),size:"small",sx:{p:0,width:24,height:24,fontSize:"1rem",mr:.75},children:s.column.getIsGrouped()?e.jsx(F,{}):e.jsx(E,{})}),i(s.column.columnDef.header,s.getContext())]})},s.id))},r.id))}),e.jsxs($,{children:[f>0&&e.jsx(c,{children:e.jsx(g,{sx:{height:`${f}px`}})}),a.map(r=>{const s=x[r.index];return e.jsx(c,{children:s.getVisibleCells().map(o=>{let t="background.paper";return o.getIsGrouped()&&(t="primary.lighter"),o.getIsAggregated()&&(t="warning.lighter"),o.getIsPlaceholder()&&(t="error.lighter"),o.column.columnDef.meta!==void 0&&o.column.getCanSort()&&Object.assign(o.column.columnDef.meta,{style:{backgroundColor:t}}),e.jsx(g,{...o.column.columnDef.meta,sx:{bgcolor:t},...o.getIsGrouped()&&o.column.columnDef.meta===void 0&&{style:{backgroundColor:t}},children:o.getIsGrouped()?e.jsxs(w,{direction:"row",alignItems:"center",spacing:.5,children:[e.jsx(T,{color:"secondary",onClick:s.getToggleExpandedHandler(),size:"small",sx:{p:0,width:24,height:24},children:s.getIsExpanded()?e.jsx(P,{}):e.jsx(K,{})}),e.jsx(R,{children:i(o.column.columnDef.cell,o.getContext())})," ",e.jsxs(R,{children:["(",s.subRows.length,")"]})]}):o.getIsAggregated()?i(o.column.columnDef.aggregatedCell??o.column.columnDef.cell,o.getContext()):o.getIsPlaceholder()?null:i(o.column.columnDef.cell,o.getContext())},o.id)})},s.id)}),j>0&&e.jsx(c,{children:e.jsx(g,{sx:{height:`${j}px`}})})]})]})})})})}D.propTypes={columns:G.array,data:G.array};const de=()=>{const m=k(100),d=p.useMemo(()=>[{header:"Name",accessorKey:"fullName",enableGrouping:!1},{header:"Email",accessorKey:"email",enableGrouping:!1},{header:"Age",accessorKey:"age",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",enableGrouping:!1,meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",cell:n=>{switch(n.getValue()){case"Complicated":return e.jsx(u,{color:"error",label:"Complicated",size:"small",variant:"light"});case"Relationship":return e.jsx(u,{color:"success",label:"Relationship",size:"small",variant:"light"});case"Single":default:return e.jsx(u,{color:"info",label:"Single",size:"small",variant:"light"})}}},{header:"Profile Progress",accessorKey:"progress",cell:n=>e.jsx(U,{value:n.getValue(),sx:{minWidth:75}}),enableGrouping:!1}],[]);return e.jsx(D,{data:m,columns:d})};export{de as default};
