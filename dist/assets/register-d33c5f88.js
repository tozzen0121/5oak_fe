import{am as v,z as P,r as g,j as e,cc as S,aG as q,aH as u,H as C,G as a,p as l,aQ as p,ao as x,aR as o,I as L,ad as R,B as W,T as f,A as k,d as D,L as N}from"./index-ae0c6fa9.js";import{A as T}from"./AuthWrapper-f2233b3f.js";import{u as z}from"./useScriptRef-bffad7eb.js";import{s as G,a as H}from"./password-strength-d25d9749.js";import{I as M}from"./InputAdornment-22f02e97.js";import{E as O}from"./EyeOutlined-37a3c64a.js";import{E as V}from"./EyeInvisibleOutlined-3c1a10c6.js";const $=()=>{const{register:h}=v(),w=z(),A=P(),[n,I]=g.useState(),[j,B]=g.useState(!1),E=()=>{B(!j)},F=s=>{s.preventDefault()},b=s=>{const r=G(s);I(H(r))};return g.useEffect(()=>{b("")},[]),e.jsx(e.Fragment,{children:e.jsx(S,{initialValues:{firstname:"",lastname:"",email:"",company:"",password:"",submit:null},validationSchema:q().shape({firstname:u().max(255).required("First Name is required"),lastname:u().max(255).required("Last Name is required"),email:u().email("Must be a valid email").max(255).required("Email is required"),password:u().max(255).required("Password is required")}),onSubmit:async(s,{setErrors:r,setStatus:i,setSubmitting:m})=>{try{await h(s.email,s.password,s.firstname,s.lastname),w.current&&(i({success:!0}),m(!1),C({open:!0,message:"Your registration has been successfully completed.",variant:"alert",alert:{color:"success"}}),setTimeout(()=>{A("/login",{replace:!0})},1500))}catch(d){console.error(d),w.current&&(i({success:!1}),r({submit:d.message}),m(!1))}},children:({errors:s,handleBlur:r,handleChange:i,handleSubmit:m,isSubmitting:d,touched:t,values:c})=>e.jsx("form",{noValidate:!0,onSubmit:m,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsxs(a,{item:!0,xs:12,md:6,children:[e.jsxs(l,{spacing:1,children:[e.jsx(p,{htmlFor:"firstname-signup",children:"First Name*"}),e.jsx(x,{id:"firstname-login",type:"firstname",value:c.firstname,name:"firstname",onBlur:r,onChange:i,placeholder:"John",fullWidth:!0,error:!!(t.firstname&&s.firstname)})]}),t.firstname&&s.firstname&&e.jsx(o,{error:!0,id:"helper-text-firstname-signup",children:s.firstname})]}),e.jsxs(a,{item:!0,xs:12,md:6,children:[e.jsxs(l,{spacing:1,children:[e.jsx(p,{htmlFor:"lastname-signup",children:"Last Name*"}),e.jsx(x,{fullWidth:!0,error:!!(t.lastname&&s.lastname),id:"lastname-signup",type:"lastname",value:c.lastname,name:"lastname",onBlur:r,onChange:i,placeholder:"Doe",inputProps:{}})]}),t.lastname&&s.lastname&&e.jsx(o,{error:!0,id:"helper-text-lastname-signup",children:s.lastname})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(l,{spacing:1,children:[e.jsx(p,{htmlFor:"email-signup",children:"Email Address*"}),e.jsx(x,{fullWidth:!0,error:!!(t.email&&s.email),id:"email-login",type:"email",value:c.email,name:"email",onBlur:r,onChange:i,placeholder:"demo@company.com",inputProps:{}})]}),t.email&&s.email&&e.jsx(o,{error:!0,id:"helper-text-email-signup",children:s.email})]}),e.jsxs(a,{item:!0,xs:12,children:[e.jsxs(l,{spacing:1,children:[e.jsx(p,{htmlFor:"password-signup",children:"Password"}),e.jsx(x,{fullWidth:!0,error:!!(t.password&&s.password),id:"password-signup",type:j?"text":"password",value:c.password,name:"password",onBlur:r,onChange:y=>{i(y),b(y.target.value)},endAdornment:e.jsx(M,{position:"end",children:e.jsx(L,{"aria-label":"toggle password visibility",onClick:E,onMouseDown:F,edge:"end",color:"secondary",children:j?e.jsx(O,{}):e.jsx(V,{})})}),placeholder:"******",inputProps:{}})]}),t.password&&s.password&&e.jsx(o,{error:!0,id:"helper-text-password-signup",children:s.password}),e.jsx(R,{fullWidth:!0,sx:{mt:2},children:e.jsxs(a,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(a,{item:!0,children:e.jsx(W,{sx:{bgcolor:n==null?void 0:n.color,width:85,height:8,borderRadius:"7px"}})}),e.jsx(a,{item:!0,children:e.jsx(f,{variant:"subtitle1",fontSize:"0.75rem",children:n==null?void 0:n.label})})]})})]}),s.submit&&e.jsx(a,{item:!0,xs:12,children:e.jsx(o,{error:!0,children:s.submit})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(k,{children:e.jsx(D,{disableElevation:!0,disabled:d,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Create Account"})})})]})})})})},_=()=>{const{isLoggedIn:h}=v();return e.jsx(T,{children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsxs(l,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:[e.jsx(f,{variant:"h3",children:"Sign up"}),e.jsx(f,{component:N,to:h?"/auth/login":"/login",variant:"body1",sx:{textDecoration:"none"},color:"primary",children:"Already have an account?"})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsx($,{})})]})})};export{_ as default};
