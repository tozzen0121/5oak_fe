import{y as E,r,z as S,j as e,G as a,M as F,a2 as w,p as l,aQ as o,D as d,a6 as I,cF as P,L as b,d as g,x as y,H as k,ai as z,g as D}from"./index-ae0c6fa9.js";import{S as L}from"./SingleFile-a5cb95f4.js";import"./PlaceholderContent-1f23783e.js";function W(){const{id:s}=E(),[m,p]=r.useState(""),[u,x]=r.useState(""),[h,j]=r.useState(""),[i,f]=r.useState(null),v=S(),C=async()=>{const t=new FormData;t.append("name",m),t.append("title",u),t.append("profile",h),(i==null?void 0:i.length)>0&&i[0]instanceof File&&t.append("image",i[0]);try{s?await y.putForm(`/api/employee/${s}`,t):await y.postForm("/api/employee",t),k({open:!0,message:s?"Employee updated successfully":"Employee added successfully",variant:"alert",alert:{color:"success"},anchorOrigin:{vertical:"top",horizontal:"right"},transition:"SlideLeft"}),v("/admin/team")}catch{}};return r.useEffect(()=>{s&&(async c=>{try{const{data:n}=await z(`/api/employee/${c}`);p(n.name),x(n.title),j(n.profile),f([{preview:D(n.imagePath)}])}catch{}})(s)},[s]),e.jsx(a,{container:!0,spacing:3,justifyContent:"center",children:e.jsx(a,{item:!0,xs:12,md:6,lg:6,children:e.jsx(a,{container:!0,spacing:3,children:e.jsx(a,{item:!0,xs:12,children:e.jsxs(F,{title:"",content:!1,children:[e.jsx(w,{children:e.jsxs(a,{container:!0,spacing:2,alignItems:"center",children:[e.jsx(a,{item:!0,xs:12,children:e.jsxs(l,{spacing:1,children:[e.jsx(o,{children:"Employee Name"}),e.jsx(d,{fullWidth:!0,placeholder:"Employee Name",onChange:t=>p(t.target.value),value:m})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(l,{spacing:1,children:[e.jsx(o,{children:"Employee Title"}),e.jsx(d,{fullWidth:!0,placeholder:"Employee Title",onChange:t=>x(t.target.value),value:u})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(l,{spacing:1,children:[e.jsx(o,{children:"Profile"}),e.jsx(d,{fullWidth:!0,placeholder:"Profile",onChange:t=>j(t.target.value),value:h,multiline:!0,rows:4})]})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(l,{spacing:1,children:[e.jsx(o,{children:"Game Image"}),e.jsx(a,{item:!0,xs:12,container:!0,justifyContent:"center",children:e.jsx(a,{item:!0,xs:7,children:e.jsx(L,{setFieldValue:(t,c)=>f(c),file:i})})})]})})]})}),e.jsx(I,{}),e.jsx(P,{children:e.jsxs(l,{direction:"row",spacing:1,justifyContent:"flex-end",sx:{width:1,px:1.5,py:.75},children:[e.jsx(b,{to:"/admin/team",children:e.jsx(g,{color:"error",size:"small",children:"Cancel"})}),e.jsx(g,{variant:"contained",size:"small",onClick:()=>C(),children:"Submit"})]})})]})})})})})}export{W as default};
