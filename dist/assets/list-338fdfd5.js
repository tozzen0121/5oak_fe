import{P as u,j as e,G as j,p as i,T as n,B as v,c as L,f as G,r as c,h as K,z as $,k as D,g as _,a5 as I,a9 as T,I as R,aY as N,M as E,ay as V,d as W,a6 as q,H as Q,a_ as X}from"./index-9ae50f04.js";import{u as Y,g as J,a as Z,b as ee,c as te,S as se,f as A}from"./ScrollX-8892b6ef.js";import{r as ae}from"./index-481cdf3e.js";import{C as oe}from"./CaretUpOutlined-a6a796ea.js";import{C as ie}from"./CaretDownOutlined-264fb6e4.js";import{_ as ne}from"./react-apexcharts.min-54197b95.js";import{L as re}from"./LinearWithLabel-8b395e87.js";import le from"./empty-e4d34508.js";import{A as ce}from"./AlertColumnDelete-57d42001.js";import{u as de,a as me,d as F,e as pe}from"./invoice-07b96473.js";import{I as M,D as ue,S as ge,C as he,R as xe,H as je,T as fe}from"./Filter-0007d050.js";import{T as ve,a as be}from"./Tabs-28dbf6b0.js";import{T as ye,a as Ce,b as Se}from"./TableContainer-101aaec2.js";import{T as we}from"./TableHead-65748a4a.js";import{T as O}from"./TableRow-1bb95fef.js";import{T as z}from"./TableCell-5d6e040b.js";import{E as Ie}from"./EyeOutlined-3ad9569b.js";import{E as Te}from"./EditOutlined-ea58a507.js";import{D as Re}from"./DeleteOutlined-8a559501.js";import{F as Pe}from"./FileDoneOutlined-3b510d6c.js";import{P as ke}from"./PlusOutlined-12cff1f2.js";import"./TableFooter-5a28db23.js";import"./DownloadOutlined-41a434b8.js";import"./Pagination-73ca211f.js";import"./index-227f3fc3.js";import"./Checkbox-ada06221.js";import"./MinusOutlined-cb49df36.js";import"./KeyboardArrowRight-6f427e69.js";const B=({color:o,title:d,count:m,percentage:r,isLoss:p,children:h,invoice:g})=>e.jsxs(j,{container:!0,direction:"row",spacing:2,children:[e.jsx(j,{item:!0,md:5,children:e.jsxs(i,{direction:"column",spacing:2,children:[e.jsx(n,{variant:"subtitle1",children:d}),e.jsxs(i,{direction:"column",spacing:1,children:[e.jsx(n,{variant:"h4",color:"inherit",children:m}),e.jsxs(i,{direction:"row",spacing:1,children:[e.jsx(n,{variant:"subtitle1",children:g}),e.jsx(n,{color:"secondary",children:"invoices"})]})]})]})}),e.jsx(j,{item:!0,md:7,children:e.jsx(v,{children:e.jsxs(i,{direction:"column",alignItems:"flex-end",justifyContent:"space-evenly",children:[r&&e.jsxs(i,{sx:{ml:1.25,pl:1},direction:"row",alignItems:"center",spacing:1,children:[!p&&e.jsx(oe,{style:{fontSize:"0.75rem",color:`${o}`}}),p&&e.jsx(ie,{style:{fontSize:"0.75rem",color:`${o}`}}),e.jsxs(n,{color:"secondary",children:[r,"%"]})]}),h]})})})]});B.propTypes={color:u.string,title:u.string,count:u.string,percentage:u.number,isLoss:u.bool,children:u.node,invoice:u.string};const H=({color:o,data:d})=>{const m=L(),{mode:r}=G(),p={chart:{id:"new-stack-chart",height:100,type:"area",toolbar:{show:!1},sparkline:{enabled:!0}},fill:{type:"gradient",gradient:{shadeIntensity:1,type:"vertical",inverseColors:!1,opacityFrom:.5,opacityTo:0}},plotOptions:{bar:{borderRadius:0}},dataLabels:{enabled:!1},xaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1},tooltip:{enabled:!1}},stroke:{width:1,curve:"smooth"},grid:{show:!1},yaxis:{axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},tooltip:{x:{show:!1},y:{formatter(f){return`$ ${f}`}}}},{primary:h,secondary:g}=m.palette.text,y=m.palette.divider,[C,b]=c.useState(p);c.useEffect(()=>{b(f=>({...f,colors:[o.main],tooltip:{theme:r===K.DARK?"dark":"light"}}))},[r,h,g,y,m,o]);const[S]=c.useState([{name:"Sales",data:d}]);return e.jsx(ne,{options:C,series:S,type:"area",height:80})};H.propTypes={color:u.object,data:u.array};const De=(o,d,m,r)=>{const p=ae(o.getValue(d),m);return r(p),p.passed};function U({data:o,columns:d}){const m=$(),r=["All",...new Set(o.map(t=>t.status))],h=o.map(t=>t.status).reduce((t,a)=>({...t,[a]:(t[a]||0)+1}),{}),[g,y]=c.useState(r[0]),[C,b]=c.useState([{id:"customer_name",desc:!1}]),[S,f]=c.useState([]),[w,s]=c.useState({}),[l,P]=c.useState(""),x=Y({data:o,columns:d,state:{columnFilters:S,sorting:C,rowSelection:w,globalFilter:l},enableRowSelection:!0,onSortingChange:b,onRowSelectionChange:s,onGlobalFilterChange:P,onColumnFiltersChange:f,getRowCanExpand:()=>!0,getSortedRowModel:J(),getFilteredRowModel:Z(),getCoreRowModel:ee(),getPaginationRowModel:te(),globalFilterFn:De,debugTable:!0});let k=[];return d.map(t=>t.accessorKey&&k.push({label:typeof t.header=="string"?t.header:"#",key:t.accessorKey})),c.useEffect(()=>{f(g==="All"?[]:[{id:"status",value:g}])},[g]),e.jsxs(E,{content:!1,children:[e.jsx(v,{sx:{p:2.5,pb:0,width:"100%"},children:e.jsx(ve,{value:g,onChange:(t,a)=>y(a),sx:{borderBottom:1,borderColor:"divider"},children:r.map((t,a)=>e.jsx(be,{label:t,value:t,icon:e.jsx(I,{label:t==="All"?o.length:t==="Paid"?h.Paid:t==="Unpaid"?h.Unpaid:h.Cancelled,color:t==="All"?"primary":t==="Paid"?"success":t==="Unpaid"?"warning":"error",variant:"light",size:"small"}),iconPosition:"end"},a))})}),e.jsxs(i,{direction:"row",spacing:2,alignItems:"center",justifyContent:"space-between",sx:{padding:2.5},children:[e.jsx(ue,{value:l??"",onFilterChange:t=>P(String(t)),placeholder:`Search ${o.length} records...`}),e.jsxs(i,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(ge,{getState:x.getState,getAllColumns:x.getAllColumns,setSorting:b}),e.jsx(W,{variant:"contained",startIcon:e.jsx(ke,{}),onClick:t=>{t.stopPropagation(),m("/apps/invoice/create")},children:"Add Invoice"}),e.jsx(he,{data:x.getSelectedRowModel().flatRows.map(t=>t.original),headers:k,filename:"customer-list.csv"})]})]}),e.jsx(se,{children:e.jsxs(i,{children:[e.jsx(xe,{selected:Object.keys(w).length}),e.jsx(ye,{children:e.jsxs(Ce,{children:[e.jsx(we,{children:x.getHeaderGroups().map(t=>e.jsx(O,{children:t.headers.map(a=>(a.column.columnDef.meta!==void 0&&a.column.getCanSort()&&Object.assign(a.column.columnDef.meta,{className:a.column.columnDef.meta.className+" cursor-pointer prevent-select"}),e.jsx(z,{...a.column.columnDef.meta,onClick:a.column.getToggleSortingHandler(),...a.column.getCanSort()&&a.column.columnDef.meta===void 0&&{className:"cursor-pointer prevent-select"},children:a.isPlaceholder?null:e.jsxs(i,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(v,{children:A(a.column.columnDef.header,a.getContext())}),a.column.getCanSort()&&e.jsx(je,{column:a.column})]})},a.id)))},t.id))}),e.jsx(Se,{children:x.getRowModel().rows.map(t=>e.jsx(O,{children:t.getVisibleCells().map(a=>e.jsx(z,{...a.column.columnDef.meta,children:A(a.column.columnDef.cell,a.getContext())},a.id))},t.id))})]})}),e.jsxs(e.Fragment,{children:[e.jsx(q,{}),e.jsx(v,{sx:{p:2},children:e.jsx(fe,{setPageSize:x.setPageSize,setPageIndex:x.setPageIndex,getState:x.getState,getPageCount:x.getPageCount})})]})]})})]})}U.propTypes={columns:u.array,data:u.array};const it=()=>{const o=L(),d=$(),{invoiceLoading:m,invoice:r}=de(),{invoiceMaster:p}=me(),h=[{title:"Paid",count:"$7,825",percentage:70.5,isLoss:!1,invoice:"9",color:o.palette.success,chartData:[200,600,100,400,300,400,50]},{title:"Unpaid",count:"$1,880",percentage:27.4,isLoss:!0,invoice:"6",color:o.palette.warning,chartData:[100,550,300,350,200,100,300]},{title:"Overdue",count:"$3,507",percentage:27.4,isLoss:!0,invoice:"4",color:o.palette.error,chartData:[100,550,200,300,100,200,300]}],[g,y]=c.useState(0),[C,b]=c.useState(0),S=s=>{s&&(pe(g),Q({open:!0,message:"Column deleted successfully",anchorOrigin:{vertical:"top",horizontal:"right"},variant:"alert",alert:{color:"success"}})),F(!1)},f=c.useMemo(()=>[{id:"select",header:({table:s})=>e.jsx(M,{checked:s.getIsAllRowsSelected(),indeterminate:s.getIsSomeRowsSelected(),onChange:s.getToggleAllRowsSelectedHandler()}),cell:({row:s})=>e.jsx(M,{checked:s.getIsSelected(),disabled:!s.getCanSelect(),indeterminate:s.getIsSomeSelected(),onChange:s.getToggleSelectedHandler()})},{header:"Invoice Id",accessorKey:"id",meta:{className:"cell-center"}},{header:"User Info",accessorKey:"customer_name",cell:({row:s,getValue:l})=>e.jsxs(i,{direction:"row",spacing:1.5,alignItems:"center",children:[e.jsx(D,{alt:"Avatar 1",size:"sm",src:_(`avatar-${s.original.avatar?s.original.avatar:1}.png`)}),e.jsxs(i,{spacing:0,children:[e.jsx(n,{variant:"subtitle1",children:l()}),e.jsx(n,{color:"text.secondary",children:s.original.email})]})]})},{header:"Create Date",accessorKey:"date"},{header:"Due Date",accessorKey:"due_date"},{header:"Quantity",accessorKey:"quantity"},{header:"Status",accessorKey:"status",cell:s=>{switch(s.getValue()){case"Cancelled":return e.jsx(I,{color:"error",label:"Cancelled",size:"small",variant:"light"});case"Paid":return e.jsx(I,{color:"success",label:"Paid",size:"small",variant:"light"});case"Unpaid":default:return e.jsx(I,{color:"info",label:"Unpaid",size:"small",variant:"light"})}}},{header:"Actions",meta:{className:"cell-center"},disableSortBy:!0,cell:({row:s})=>e.jsxs(i,{direction:"row",alignItems:"center",justifyContent:"center",spacing:0,children:[e.jsx(T,{title:"View",children:e.jsx(R,{color:"secondary",onClick:l=>{l.stopPropagation(),d(`/apps/invoice/details/${s.original.id}`)},children:e.jsx(Ie,{})})}),e.jsx(T,{title:"Edit",children:e.jsx(R,{color:"primary",onClick:l=>{l.stopPropagation(),d(`/apps/invoice/edit/${s.original.id}`)},children:e.jsx(Te,{})})}),e.jsx(T,{title:"Delete",children:e.jsx(R,{color:"error",onClick:l=>{l.stopPropagation(),y(s.original.id),b(s.original.invoice_id),F(!0)},children:e.jsx(Re,{})})})]})}],[o]);let w=[{title:"Home",to:X},{title:"Invoice",to:"/apps/invoice/dashboard"},{title:"List"}];return e.jsxs(e.Fragment,{children:[e.jsx(N,{custom:!0,heading:"Invoice List",links:w}),e.jsxs(j,{container:!0,spacing:2,children:[e.jsx(j,{item:!0,md:8,children:e.jsx(j,{container:!0,direction:"row",spacing:2,children:h.map((s,l)=>e.jsx(j,{item:!0,sm:4,xs:12,children:e.jsx(E,{children:e.jsx(B,{title:s.title,count:s.count,percentage:s.percentage,isLoss:s.isLoss,invoice:s.invoice,color:s.color.main,children:e.jsx(H,{color:s.color,data:s.chartData})})})},l))})}),e.jsx(j,{item:!0,md:4,sm:12,xs:12,children:e.jsxs(v,{sx:{background:`linear-gradient(to right, ${o.palette.primary.dark}, ${o.palette.primary.main})`,borderRadius:1,p:1.75},children:[e.jsxs(i,{direction:"row",alignItems:"flex-end",justifyContent:"space-between",spacing:1,children:[e.jsxs(i,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(D,{alt:"Natacha",variant:"rounded",type:"filled",children:e.jsx(Pe,{style:{fontSize:"20px"}})}),e.jsxs(v,{children:[e.jsxs(i,{direction:"row",spacing:1,alignItems:"center",children:[e.jsx(n,{variant:"body1",color:"white",children:"Total Recievables"}),e.jsx(V,{style:{color:o.palette.background.paper}})]}),e.jsxs(i,{direction:"row",spacing:1,children:[e.jsx(n,{variant:"body2",color:"white",children:"Current"}),e.jsx(n,{variant:"body1",color:"white",children:"109.1k"})]})]})]}),e.jsxs(i,{direction:"row",spacing:1,children:[e.jsx(n,{variant:"body2",color:"white",children:"Overdue"}),e.jsx(n,{variant:"body1",color:"white",children:"62k"})]})]}),e.jsx(n,{variant:"h4",color:"white",sx:{pt:2,pb:1,zIndex:1},children:"$43,078"}),e.jsx(v,{sx:{maxWidth:"100%","& .MuiTypography-root":{color:"white"}},children:e.jsx(re,{value:90,color:"warning"})})]})}),e.jsxs(j,{item:!0,xs:12,children:[m?e.jsx(le,{}):e.jsx(U,{data:r,columns:f}),e.jsx(ce,{title:C.toString(),open:p?p.alertPopup:!1,handleClose:S})]})]})]})};export{it as default,De as fuzzyFilter};
