import{be as ce,bf as le,a3 as v,bg as U,a0 as p,r,bi as ue,c as pe,b3 as L,bk as de,bm as fe,j as w,bn as k,bD as me,bo as De,bE as be}from"./index-9ae50f04.js";import{F as he}from"./Fab-d05550d3.js";function ge(o){return le("MuiSpeedDial",o)}const xe=ce("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),E=xe,Ce=["ref"],ye=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],Se=["ref"],we=o=>{const{classes:n,open:i,direction:d}=o,b={root:["root",`direction${U(d)}`],fab:["fab"],actions:["actions",!i&&"actionsClosed"]};return De(b,ge,n)};function D(o){if(o==="up"||o==="down")return"vertical";if(o==="right"||o==="left")return"horizontal"}function Ee(o,n,i){return o<n?n:o>i?i:o}const l=32,R=16,Re=v("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(o,n)=>{const{ownerState:i}=o;return[n.root,n[`direction${U(i.direction)}`]]}})(({theme:o,ownerState:n})=>p({zIndex:(o.vars||o).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},n.direction==="up"&&{flexDirection:"column-reverse",[`& .${E.actions}`]:{flexDirection:"column-reverse",marginBottom:-l,paddingBottom:R+l}},n.direction==="down"&&{flexDirection:"column",[`& .${E.actions}`]:{flexDirection:"column",marginTop:-l,paddingTop:R+l}},n.direction==="left"&&{flexDirection:"row-reverse",[`& .${E.actions}`]:{flexDirection:"row-reverse",marginRight:-l,paddingRight:R+l}},n.direction==="right"&&{flexDirection:"row",[`& .${E.actions}`]:{flexDirection:"row",marginLeft:-l,paddingLeft:R+l}})),Fe=v(he,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(o,n)=>n.fab})(()=>({pointerEvents:"auto"})),Pe=v("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(o,n)=>{const{ownerState:i}=o;return[n.actions,!i.open&&n.actionsClosed]}})(({ownerState:o})=>p({display:"flex",pointerEvents:"auto"},!o.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),Te=r.forwardRef(function(n,i){const d=ue({props:n,name:"MuiSpeedDial"}),b=pe(),V={enter:b.transitions.duration.enteringScreen,exit:b.transitions.duration.leavingScreen},{ariaLabel:A,FabProps:{ref:H}={},children:W,className:Z,direction:F="up",hidden:q=!1,icon:h,onBlur:I,onClose:c,onFocus:j,onKeyDown:B,onMouseEnter:K,onMouseLeave:O,onOpen:g,open:G,TransitionComponent:J=be,transitionDuration:Q=V,TransitionProps:X}=d,x=L(d.FabProps,Ce),Y=L(d,ye),[s,f]=de({controlled:G,default:!1,name:"SpeedDial",state:"open"}),C=p({},d,{open:s,direction:F}),y=we(C),m=r.useRef();r.useEffect(()=>()=>{clearTimeout(m.current)},[]);const P=r.useRef(0),T=r.useRef(),u=r.useRef([]);u.current=[u.current[0]];const ee=r.useCallback(e=>{u.current[0]=e},[]),oe=fe(H,ee),ne=(e,t)=>a=>{u.current[e+1]=a,t&&t(a)},te=e=>{B&&B(e);const t=e.key.replace("Arrow","").toLowerCase(),{current:a=t}=T;if(e.key==="Escape"){f(!1),u.current[0].focus(),c&&c(e,"escapeKeyDown");return}if(D(t)===D(a)&&D(t)!==void 0){e.preventDefault();const $=t===a?1:-1,S=Ee(P.current+$,0,u.current.length-1);u.current[S].focus(),P.current=S,T.current=a}};r.useEffect(()=>{s||(P.current=0,T.current=void 0)},[s]);const N=e=>{e.type==="mouseleave"&&O&&O(e),e.type==="blur"&&I&&I(e),clearTimeout(m.current),e.type==="blur"?m.current=setTimeout(()=>{f(!1),c&&c(e,"blur")}):(f(!1),c&&c(e,"mouseLeave"))},re=e=>{x.onClick&&x.onClick(e),clearTimeout(m.current),s?(f(!1),c&&c(e,"toggle")):(f(!0),g&&g(e,"toggle"))},_=e=>{e.type==="mouseenter"&&K&&K(e),e.type==="focus"&&j&&j(e),clearTimeout(m.current),s||(m.current=setTimeout(()=>{f(!0),g&&g(e,{focus:"focus",mouseenter:"mouseEnter"}[e.type])}))},M=A.replace(/^[^a-z]+|[^\w:.-]+/gi,""),z=r.Children.toArray(W).filter(e=>r.isValidElement(e)),ie=z.map((e,t)=>{const a=e.props,{FabProps:{ref:$}={},tooltipPlacement:S}=a,se=L(a.FabProps,Se),ae=S||(D(F)==="vertical"?"left":"top");return r.cloneElement(e,{FabProps:p({},se,{ref:ne(t,$)}),delay:30*(s?t:z.length-t),open:s,tooltipPlacement:ae,id:`${M}-action-${t}`})});return w.jsxs(Re,p({className:k(y.root,Z),ref:i,role:"presentation",onKeyDown:te,onBlur:N,onFocus:_,onMouseEnter:_,onMouseLeave:N,ownerState:C},Y,{children:[w.jsx(J,p({in:!q,timeout:Q,unmountOnExit:!0},X,{children:w.jsx(Fe,p({color:"primary","aria-label":A,"aria-haspopup":"true","aria-expanded":s,"aria-controls":`${M}-actions`},x,{onClick:re,className:k(y.fab,x.className),ref:oe,ownerState:C,children:r.isValidElement(h)&&me(h,["SpeedDialIcon"])?r.cloneElement(h,{open:s}):h}))})),w.jsx(Pe,{id:`${M}-actions`,role:"menu","aria-orientation":D(F),className:k(y.actions,!s&&y.actionsClosed),ownerState:C,children:ie})]}))}),Le=Te;export{Le as S};
