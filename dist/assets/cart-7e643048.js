import{al as m,ah as S,r as b,ak as c,cu as f}from"./index-4ec2acc9.js";const k=[{label:"Light Primary",value:"primary200",bg:"primary.200"},{label:"Dark Primary",value:"primaryDark",bg:"primary.dark"},{label:"Light Secondary",value:"secondary200",bg:"secondary.200"},{label:"Secondary",value:"secondaryMain",bg:"secondary.main"},{label:"Light Green",value:"successLight",bg:"success.light"},{label:"Green",value:"successMain",bg:"success.main"},{label:"Dark Green",value:"successDark",bg:"success.dark"},{label:"Light Red",value:"errorLight",bg:"error.light"},{label:"Red",value:"errorMain",bg:"error.main"},{label:"Dark Red",value:"errorDark",bg:"error.dark"},{label:"Yellow",value:"warningMain",bg:"warning.main"},{label:"Dark Yellow",value:"warningDark",bg:"warning.dark"}],g=new m.Chance,o="mantis-ts-cart",i={key:"cart"},d={step:0,products:[],subtotal:0,total:0,discount:0,shipping:0,billing:null,payment:{type:"free",method:"card",card:""}};function w(){const a=localStorage.getItem(o),{data:e,isLoading:t}=S(i.key,()=>a?JSON.parse(a):d,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1,onSuccess(n){localStorage.setItem(o,JSON.stringify(n))}});return b.useMemo(()=>({cart:e,cartLoading:t}),[e,t])}function P(a,e){let t,s,n=0,r;s={...a,itemId:g.timestamp()},n=s.quantity*s.offerPrice,t=f.filter(e,{id:s.id,color:s.color,size:s.size}),t&&t.length>0?r=e.map(l=>s.id===l.id&&s.color===l.color&&s.size===l.size?{...s,quantity:s.quantity+t[0].quantity}:l):r=[...e,s],c(i.key,u=>{const l={...u,products:r,subtotal:u.subtotal+n,total:u.total+n};return localStorage.setItem(o,JSON.stringify(l)),l},!1)}function h(a,e,t){let s,n=0,r=0,u;s=f.filter(t,{itemId:a})[0],n=e*s.offerPrice,r=0,u=t.map(l=>a===l.itemId?(r=l.quantity*(l.offerPrice||0),{...l,quantity:e}):l),c(i.key,l=>{const y={...l,products:u,subtotal:l.subtotal-r+n,total:l.total-r+n};return localStorage.setItem(o,JSON.stringify(y)),y},!1)}function I(a,e){let t,s=0,n;t=f.filter(e,{itemId:a})[0],s=t.quantity*t.offerPrice,n=f.filter(e,r=>r.itemId!==a),c(i.key,r=>{const u={...r,products:n,subtotal:r.subtotal-s,total:r.total-s};return localStorage.setItem(o,JSON.stringify(u)),u},!1)}function O(a){c(i.key,e=>{const t={...e,step:a};return localStorage.setItem(o,JSON.stringify(t)),t},!1)}function v(){c(i.key,a=>{const e={...a,step:a.step+1};return localStorage.setItem(o,JSON.stringify(e)),e},!1)}function N(){c(i.key,a=>{const e={...a,step:a.step-1};return localStorage.setItem(o,JSON.stringify(e)),e},!1)}function J(a){c(i.key,e=>{const t={...e,billing:a};return localStorage.setItem(o,JSON.stringify(t)),t},!1)}function L(a,e){let t=0;if(e>0)switch(a){case"BERRY50":t=g.integer({min:1,max:e<49?e:49});break;case"FLAT05":t=e<5?e:5;break;case"SUB150":t=e<150?e:150;break;case"UPTO200":t=g.integer({min:1,max:e<199?e:199});break;default:t=0}let s=0;c(i.key,n=>{n.discount>0&&(s=n.discount);const r={...n,discount:t,total:n.total+s-t};return localStorage.setItem(o,JSON.stringify(r)),r},!1)}function C(a,e){let t=0;e>0&&a==="free"&&(t=-5),a==="fast"&&(t=5),c(i.key,s=>{const n={...s,shipping:e,total:s.total+t,payment:{...s.payment,type:a}};return localStorage.setItem(o,JSON.stringify(n)),n},!1)}function D(a){c(i.key,e=>{const t={...e,payment:{...e.payment,method:a}};return localStorage.setItem(o,JSON.stringify(t)),t},!1)}function R(a){c(i.key,e=>{const t={...e,payment:{...e.payment,card:a}};return localStorage.setItem(o,JSON.stringify(t)),t},!1)}function x(){c(i.key,()=>(localStorage.setItem(o,JSON.stringify(d)),d),!1)}export{k as C,P as a,R as b,D as c,J as d,O as e,I as f,h as g,v as h,N as i,C as j,x as r,L as s,w as u};
