import{z as B,am as R,r as l,j as s,cc as A,aG as C,aH as j,H as k,G as r,p as m,aQ as g,ao as P,I as F,aR as u,ad as W,B as q,T as p,A as T,d as z}from"./index-23fde95d.js";import{A as D}from"./AuthWrapper-d26d3790.js";import{u as G}from"./useScriptRef-c0332274.js";import{s as H,a as L}from"./password-strength-d25d9749.js";import{I as O}from"./InputAdornment-5531561c.js";import{E as M}from"./EyeOutlined-143cac5e.js";import{E as V}from"./EyeInvisibleOutlined-a47068c2.js";const $=()=>{const h=G(),b=B(),{isLoggedIn:y}=R(),[o,v]=l.useState(),[c,E]=l.useState(!1),I=()=>{E(!c)},S=e=>{e.preventDefault()},x=e=>{const a=H(e);v(L(a))};return l.useEffect(()=>{x("")},[]),s.jsx(A,{initialValues:{password:"",confirmPassword:"",submit:null},validationSchema:C().shape({password:j().max(255).required("Password is required"),confirmPassword:j().required("Confirm Password is required").test("confirmPassword","Both Password must be match!",(e,a)=>a.parent.password===e)}),onSubmit:async(e,{setErrors:a,setStatus:t,setSubmitting:n})=>{try{h.current&&(t({success:!0}),n(!1),k({open:!0,message:"Successfuly reset password.",variant:"alert",alert:{color:"success"}}),setTimeout(()=>{b(y?"/auth/login":"/login",{replace:!0})},1500))}catch(i){console.error(i),h.current&&(t({success:!1}),a({submit:i.message}),n(!1))}},children:({errors:e,handleBlur:a,handleChange:t,handleSubmit:n,isSubmitting:i,touched:d,values:w})=>s.jsx("form",{noValidate:!0,onSubmit:n,children:s.jsxs(r,{container:!0,spacing:3,children:[s.jsxs(r,{item:!0,xs:12,children:[s.jsxs(m,{spacing:1,children:[s.jsx(g,{htmlFor:"password-reset",children:"Password"}),s.jsx(P,{fullWidth:!0,error:!!(d.password&&e.password),id:"password-reset",type:c?"text":"password",value:w.password,name:"password",onBlur:a,onChange:f=>{t(f),x(f.target.value)},endAdornment:s.jsx(O,{position:"end",children:s.jsx(F,{"aria-label":"toggle password visibility",onClick:I,onMouseDown:S,edge:"end",color:"secondary",children:c?s.jsx(M,{}):s.jsx(V,{})})}),placeholder:"Enter password"})]}),d.password&&e.password&&s.jsx(u,{error:!0,id:"helper-text-password-reset",children:e.password}),s.jsx(W,{fullWidth:!0,sx:{mt:2},children:s.jsxs(r,{container:!0,spacing:2,alignItems:"center",children:[s.jsx(r,{item:!0,children:s.jsx(q,{sx:{bgcolor:o==null?void 0:o.color,width:85,height:8,borderRadius:"7px"}})}),s.jsx(r,{item:!0,children:s.jsx(p,{variant:"subtitle1",fontSize:"0.75rem",children:o==null?void 0:o.label})})]})})]}),s.jsxs(r,{item:!0,xs:12,children:[s.jsxs(m,{spacing:1,children:[s.jsx(g,{htmlFor:"confirm-password-reset",children:"Confirm Password"}),s.jsx(P,{fullWidth:!0,error:!!(d.confirmPassword&&e.confirmPassword),id:"confirm-password-reset",type:"password",value:w.confirmPassword,name:"confirmPassword",onBlur:a,onChange:t,placeholder:"Enter confirm password"})]}),d.confirmPassword&&e.confirmPassword&&s.jsx(u,{error:!0,id:"helper-text-confirm-password-reset",children:e.confirmPassword})]}),e.submit&&s.jsx(r,{item:!0,xs:12,children:s.jsx(u,{error:!0,children:e.submit})}),s.jsx(r,{item:!0,xs:12,children:s.jsx(T,{children:s.jsx(z,{disableElevation:!0,disabled:i,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Reset Password"})})})]})})})},Z=()=>s.jsx(D,{children:s.jsxs(r,{container:!0,spacing:3,children:[s.jsx(r,{item:!0,xs:12,children:s.jsxs(m,{sx:{mb:{xs:-.5,sm:.5}},spacing:1,children:[s.jsx(p,{variant:"h3",children:"Reset Password"}),s.jsx(p,{color:"secondary",children:"Please choose your new password"})]})}),s.jsx(r,{item:!0,xs:12,children:s.jsx($,{})})]})});export{Z as default};
