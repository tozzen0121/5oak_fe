import{r as h,aG as b,aH as I,co as K,j as e,p as M,a9 as v,I as w,_ as Y,Q as R,a5 as S,cc as Q,aN as X,D as Z,P as m,c3 as N,M as O,Z as _,G as D}from"./index-339f3481.js";import{u as q,b as A,S as P,f as j}from"./ScrollX-1ee8b35d.js";import{C as F}from"./Filter-4677b710.js";import{L as J}from"./LinearWithLabel-10ac9984.js";import{S as U}from"./Slider-77ed8768.js";import{C as ee}from"./CheckOutlined-353e5c7d.js";import{T as V,a as $,b as B}from"./TableContainer-8cf103d1.js";import{T as L}from"./TableHead-d2c6cf7a.js";import{T as y}from"./TableRow-69e6a060.js";import{T}from"./TableCell-0100e0ae.js";import{E as ae,R as se}from"./RowEditable-73bb43c6.js";import{S as te}from"./SendOutlined-6a3917fe.js";import"./DownloadOutlined-4a34d8ac.js";import"./CaretUpOutlined-386ec6d9.js";import"./CaretDownOutlined-a10fe943.js";import"./Pagination-d137656d.js";import"./index-873bd63d.js";import"./Checkbox-d396c6c8.js";import"./MinusOutlined-3294283e.js";import"./visuallyHidden-14c3de6e.js";const re=({getValue:l,row:{index:o},column:{id:a,columnDef:d},table:p})=>{const[s,r]=h.useState(l),[x,f]=h.useState(!1),t=n=>{var g;r((g=n.target)==null?void 0:g.value)},i=()=>{var n;(n=p.options.meta)==null||n.updateData(o,a,s)};h.useEffect(()=>{r(l)},[l]);let u,c;switch(a){case"email":c=b().shape({userInfo:I().email("Enter valid email ").required("Email is a required field")});break;case"age":c=b().shape({userInfo:K().typeError("Age must be number").required("Age is required").min(18,"You must be at least 18 years").max(65,"You must be at most 65 years")});break;case"visits":c=b().shape({userInfo:K().typeError("Visits must be number").required("Required")});break;default:c=b().shape({userInfo:I().min(2,"Too Short!").max(50,"Too Long!").required("Name is Required")});break}switch(d.dataType){case"text":u=e.jsx(e.Fragment,{children:e.jsx(Q,{initialValues:{userInfo:s},enableReinitialize:!0,validationSchema:c,onSubmit:()=>{},children:({values:n,handleChange:g,handleBlur:G,errors:C,touched:E})=>e.jsx(X,{children:e.jsx(Z,{fullWidth:!0,value:n.userInfo,id:`${o}-${a}`,name:"userInfo",onChange:k=>{g(k),t(k)},onBlur:G,error:E.userInfo&&!!C.userInfo,helperText:E.userInfo&&C.userInfo&&C.userInfo,sx:{"& .MuiOutlinedInput-input":{py:.75,px:1,minWidth:{xs:100}},"& .MuiOutlinedInput-notchedOutline":{border:"none"}}})})})});break;case"select":u=e.jsx(e.Fragment,{children:e.jsxs(Y,{labelId:"editable-select-status-label",sx:{boxShadow:"none",".MuiOutlinedInput-notchedOutline":{border:0},svg:{display:"none"}},id:"editable-select-status",value:s,onChange:t,onBlur:i,children:[e.jsx(R,{value:"Complicated",children:e.jsx(S,{color:"error",label:"Complicated",size:"small",variant:"light"})}),e.jsx(R,{value:"Relationship",children:e.jsx(S,{color:"success",label:"Relationship",size:"small",variant:"light"})}),e.jsx(R,{value:"Single",children:e.jsx(S,{color:"info",label:"Single",size:"small",variant:"light"})})]})});break;case"progress":u=e.jsx(e.Fragment,{children:x?e.jsx(e.Fragment,{children:e.jsxs(M,{direction:"row",alignItems:"center",spacing:1,sx:{pl:1,minWidth:120},children:[e.jsx(U,{value:s,min:0,max:100,step:1,onBlur:i,onChange:(n,g)=>{r(g)},valueLabelDisplay:"auto","aria-labelledby":"non-linear-slider"}),e.jsx(v,{title:"Submit",children:e.jsx(w,{onClick:()=>f(!1),children:e.jsx(ee,{})})})]})}):e.jsx("div",{onClick:()=>f(!0),children:e.jsx(J,{value:s,sx:{minWidth:75}})})});break;default:u=e.jsx("span",{});break}return u};W.propTypes={columns:m.array,data:m.array,setData:m.func};function W({columns:l,data:o,setData:a}){const d=q({data:o,columns:l,defaultColumn:{cell:re},getCoreRowModel:A(),meta:{updateData:(s,r,x)=>{a(f=>f.map((t,i)=>i===s?{...f[s],[r]:x}:t))}},debugTable:!0});let p=[];return d.getAllColumns().map(s=>s.columnDef.accessorKey&&p.push({label:typeof s.columnDef.header=="string"?s.columnDef.header:"#",key:s.columnDef.accessorKey})),e.jsx(O,{content:!1,title:"Editable Cell",secondary:e.jsx(F,{data:d.getRowModel().flatRows.map(s=>s.original),headers:p,filename:"editable-cell.csv"}),children:e.jsx(P,{children:e.jsx(V,{children:e.jsxs($,{children:[e.jsx(L,{children:d.getHeaderGroups().map(s=>e.jsx(y,{children:s.headers.map(r=>e.jsx(T,{...r.column.columnDef.meta,children:r.isPlaceholder?null:j(r.column.columnDef.header,r.getContext())},r.id))},s.id))}),e.jsx(B,{children:d.getRowModel().rows.map(s=>e.jsx(y,{children:s.getVisibleCells().map(r=>e.jsx(T,{...r.column.columnDef.meta,children:j(r.column.columnDef.cell,r.getContext())},r.id))},s.id))})]})})})})}const le=()=>{const[l,o]=h.useState(()=>N(10)),a=h.useMemo(()=>[{header:"Name",accessorKey:"fullName",dataType:"text"},{header:"Email",accessorKey:"email",dataType:"text"},{header:"Age",accessorKey:"age",dataType:"text",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",dataType:"text",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",dataType:"select"},{header:"Profile Progress",accessorKey:"progress",dataType:"progress"}],[]);return e.jsx(W,{data:l,columns:a,setData:o})},z=({row:l,table:o})=>{var p;const a=(p=o==null?void 0:o.options)==null?void 0:p.meta,d=s=>{a==null||a.setSelectedRow(r=>({...r,[l.id]:!r[l.id]})),a==null||a.revertData(l.index,(s==null?void 0:s.currentTarget.name)==="cancel")};return e.jsxs(M,{direction:"row",spacing:1,alignItems:"center",children:[(a==null?void 0:a.selectedRow[l.id])&&e.jsx(v,{title:"Cancel",children:e.jsx(w,{color:"error",name:"cancel",onClick:d,children:e.jsx(_,{})})}),e.jsx(v,{title:a!=null&&a.selectedRow[l.id]?"Save":"Edit",children:e.jsx(w,{color:a!=null&&a.selectedRow[l.id]?"success":"primary",onClick:d,children:a!=null&&a.selectedRow[l.id]?e.jsx(te,{}):e.jsx(ae,{})})})]})};z.propTypes={row:m.object,table:m.object,options:m.array,id:m.number,index:m.number};function H({columns:l,data:o,setData:a}){const[d,p]=h.useState(()=>[...o]),[s,r]=h.useState({}),x=q({data:o,columns:l,defaultColumn:{cell:se},getCoreRowModel:A(),meta:{selectedRow:s,setSelectedRow:r,revertData:(t,i)=>{i?a(u=>u.map((c,n)=>n===t?d[t]:c)):p(u=>u.map((c,n)=>n===t?o[t]:c))},updateData:(t,i,u)=>{a(c=>c.map((n,g)=>g===t?{...c[t],[i]:u}:n))}},debugTable:!0});let f=[];return x.getAllColumns().map(t=>t.columnDef.accessorKey&&f.push({label:typeof t.columnDef.header=="string"?t.columnDef.header:"#",key:t.columnDef.accessorKey})),e.jsx(O,{content:!1,title:"Editable Row",secondary:e.jsx(F,{data:x.getRowModel().flatRows.map(t=>t.original),headers:f,filename:"editable-row.csv"}),children:e.jsx(P,{children:e.jsx(V,{children:e.jsxs($,{children:[e.jsx(L,{children:x.getHeaderGroups().map(t=>e.jsx(y,{children:t.headers.map(i=>e.jsx(T,{...i.column.columnDef.meta,children:i.isPlaceholder?null:j(i.column.columnDef.header,i.getContext())},i.id))},t.id))}),e.jsx(B,{children:x.getRowModel().rows.map(t=>e.jsx(y,{children:t.getVisibleCells().map(i=>e.jsx(T,{...i.column.columnDef.meta,children:j(i.column.columnDef.cell,i.getContext())},i.id))},t.id))})]})})})})}H.propTypes={columns:m.array,data:m.array,setData:m.func};const ie=()=>{const[l,o]=h.useState(()=>N(10)),a=h.useMemo(()=>[{header:"Name",accessorKey:"fullName",dataType:"text"},{header:"Email",accessorKey:"email",dataType:"text"},{header:"Age",accessorKey:"age",dataType:"text",meta:{className:"cell-right"}},{header:"Visits",accessorKey:"visits",dataType:"text",meta:{className:"cell-right"}},{header:"Status",accessorKey:"status",dataType:"select"},{header:"Profile Progress",accessorKey:"progress",dataType:"progress"},{header:"Actions",id:"edit",cell:z,meta:{className:"cell-center"}}],[]);return e.jsx(H,{data:l,columns:a,setData:o})},we=()=>e.jsxs(D,{container:!0,spacing:3,children:[e.jsx(D,{item:!0,xs:12,children:e.jsx(ie,{})}),e.jsx(D,{item:!0,xs:12,children:e.jsx(le,{})})]});export{we as default};
