import{r as f,$ as S,a0 as z,P as t,c as F,j as e,K as C,a7 as R,I as y,O as L,a3 as P,B as k,p as b,d as D}from"./index-23fde95d.js";import{g as N,u as I,P as U,R as $}from"./PlaceholderContent-be87e199.js";import{C as v}from"./CloseCircleFilled-a38a9889.js";var B={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"}}]},name:"file",theme:"filled"};const O=B;var M=function(l,r){return f.createElement(S,z({},l,{ref:r,icon:O}))};const A=f.forwardRef(M);function w({showList:o=!1,files:l,onRemove:r,type:c}){const m=F(),s=l.length>0,p=c;return e.jsx(C,{disablePadding:!0,sx:{...s&&p!=="STANDARD"&&{my:3},...p==="STANDARD"&&{width:"calc(100% - 84px)"}},children:l.map((i,u)=>{const{key:h,name:j,size:x,preview:g,type:n}=N(i,u);return o?e.jsxs(R,{sx:{p:0,m:.5,width:p==="STANDARD"?64:80,height:p==="STANDARD"?64:80,borderRadius:1.25,position:"relative",display:"inline-flex",verticalAlign:"text-top",border:`solid 1px ${m.palette.divider}`,overflow:"hidden"},children:[(n==null?void 0:n.includes("image"))&&e.jsx("img",{alt:"preview",src:g,style:{width:"100%"}}),!(n!=null&&n.includes("image"))&&e.jsx(A,{style:{width:"100%",fontSize:"1.5rem"}}),r&&e.jsx(y,{size:"small",color:"error",shape:"rounded",onClick:()=>r(i),sx:{fontSize:"0.875rem",bgcolor:"background.paper",p:0,width:"auto",height:"auto",top:2,right:2,position:"absolute"},children:e.jsx(v,{})})]},h):e.jsxs(R,{sx:{my:1,px:2,py:.75,borderRadius:.75,border:d=>`solid 1px ${d.palette.divider}`},children:[e.jsx(A,{style:{width:"30px",height:"30px",fontSize:"1.15rem",marginRight:4}}),e.jsx(L,{primary:typeof i=="string"?i:j,secondary:typeof i=="string"?"":x,primaryTypographyProps:{variant:"subtitle2"},secondaryTypographyProps:{variant:"caption"}}),r&&e.jsx(y,{edge:"end",size:"small",onClick:()=>r(i),children:e.jsx(v,{style:{fontSize:"1.15rem"}})})]},h)})})}w.propTypes={showList:t.bool,files:t.array,onRemove:t.func,type:t.string};const E=P("div")(({theme:o})=>({outline:"none",padding:o.spacing(5,1),borderRadius:o.shape.borderRadius,backgroundColor:o.palette.background.paper,border:`1px dashed ${o.palette.secondary.main}`,"&:hover":{opacity:.72,cursor:"pointer"}})),H=({error:o,showList:l=!1,files:r,setFieldValue:c,sx:m,type:s,onUpload:p})=>{const{getRootProps:i,getInputProps:u,isDragActive:h,isDragReject:j,fileRejections:x}=I({multiple:!0,onDrop:d=>{r?c("files",[...r,...d.map(a=>Object.assign(a,{preview:URL.createObjectURL(a)}))]):c("files",d.map(a=>Object.assign(a,{preview:URL.createObjectURL(a)})))}}),g=()=>{c("files",null)},n=d=>{const a=r&&r.filter(T=>T!==d);c("files",a)};return e.jsxs(e.Fragment,{children:[e.jsxs(k,{sx:{width:"100%",...s==="STANDARD"&&{width:"auto",display:"flex"},...m},children:[e.jsxs(b,{...s==="STANDARD"&&{alignItems:"center"},children:[e.jsxs(E,{...i(),sx:{...s==="STANDARD"&&{p:0,m:1,width:64,height:64},...h&&{opacity:.72},...(j||o)&&{color:"error.main",borderColor:"error.light",bgcolor:"error.lighter"}},children:[e.jsx("input",{...u()}),e.jsx(U,{type:s})]}),s==="STANDARD"&&r&&r.length>1&&e.jsx(D,{variant:"contained",color:"error",size:"extraSmall",onClick:g,children:"Remove all"})]}),x.length>0&&e.jsx($,{fileRejections:x}),r&&r.length>0&&e.jsx(w,{files:r,showList:l,onRemove:n,type:s})]}),s!=="STANDARD"&&r&&r.length>0&&e.jsx(b,{direction:"row",justifyContent:"flex-end",spacing:1.5,sx:{mt:1.5},children:e.jsx(D,{color:"inherit",size:"small",onClick:g,children:"Remove all"})})]})};H.propTypes={error:t.bool,showList:t.bool,files:t.array,setFieldValue:t.func,onUpload:t.func,sx:t.object,type:t.string};export{H as M};
